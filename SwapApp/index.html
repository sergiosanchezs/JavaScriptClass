<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <title>Document</title>
</head>
<body>
    <main>
        <h1>Ram Tap Combined Test</h1>
        <ul id="image_list">
            <li><a href="images/t1.png" title="James Allison: 1-7">
                <img src="thumbnails/t1@.png" alt=""></a></li>
            <li><a href="images/t2.png" title="James Allison: 1-2">
                <img src="thumbnails/t2@.png" alt=""></a></li>
            <li><a href="images/t3.png" title="James Allison: 1-3">
                <img src="thumbnails/t3@.png" alt=""></a></li>
            <li><a href="images/t4.png" title="James Allison: 1-4">
                <img src="thumbnails/t4@.png" alt=""></a></li>
            <li><a href="images/t5.png" title="James Allison: 1-5">
                <img src="thumbnails/t5@.png" alt=""></a></li>
            <li><a href="images/t6.png" title="James Allison: 1-6">
                <img src="thumbnails/t6@.png" alt=""></a></li>
        </ul>
        <h2 id="caption">N</h2>
        <p><img src="images/t1.png" alt="" id="image"></p>
    </main>
    <footer>
        <script>
            $ = function (id) { return document.getElementById(id); }

            var swap = function(evt) {
                var link = this;    // a tag object link
                // console.log(link);
                var captionNode = $("caption");
                var imageNode = $("image");

                imageNode.src = link.getAttribute("href");
                captionNode.firstChild.nodeValue =
                    link.getAttribute("title");

                // Cancel the default action of the event
                // console.log(evt);
                if (!evt) { evt = window.event; }
                if ( evt.preventDefault ) {
                    evt.preventDefault();      // DOM compliant code
                }
                else {
                    evt.returnValue = false;
                }
            }
            
            window.onload = function () {
                var listNode = $("image_list");     // Return the whole ul element
                // console.log(listNode);
                var imageLinks = listNode.getElementsByTagName("a");    // return an array of elemens with tag a
                console.log(imageLinks);

                // Process image links
                var i, linkNode, image;
                for ( i = 0; i < imageLinks.length; i++ ) {

                    // Attach event handler
                    linkNode = imageLinks[i];
                    // console.log(linkNode);
                    linkNode.onclick = swap;

                    // Preload image
                    image = new Image();
                    console.log(image);
                    image.src = linkNode.getAttribute("href");
                }
                imageLinks[0].focus();
                imageLinks[0].onload = swap;
            }


        </script>
    </footer>

</body>
</html>