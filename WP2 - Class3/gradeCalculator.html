<!DOCTYPE html>
<html>
	<head>
		<title>Grade Calculator Term 1</title>
		<style>
            body{
                text-align: center;
            }
			.labels {
				color:darkgoldenrod;
			}
            h1 {
                color:midnightblue;
            }
            #result {
                color: greenyellow;
                background-color: green;
                padding: 20px;
                border: 2px solid greenyellow;
                margin: 20px;
                /* display: inline-block; */
                display: none;
            }
		</style>
	</head>
	<body>
		<h1>Grade Calculator Term 1</h1>
		<form id="grades_form" name="grades_form" action="" method="GET">
            <div>
                <label class="labels" for="web_tech_1">CSD 1113 Web Technology I:</label>
                <input type="number" id="web_tech_1" data_weight="3" value="90">
            </div>
            <p>
                <label class="labels" for="problem_solving">CSD 1133 Problem Solving and Program Logic:</label>
                <input type="number" id="problem_solving" data_weight="3" value="90">
            </p>
            <p>
                <label class="labels" for="buss_app">CSD 1194 Business Application:</label>
                <input type="number" id="buss_app" data_weight="4" value="90">
            </p>
            <p>
                <label class="labels" for="python">CSD 1233 Python Programming:</label>
                <input type="number" id="python" data_weight="3" value="90">
            </p>
            <P>
                <label class="labels" for="sql">CSD 2206 Database Design & SQL:</label>
                <input type="number" id="sql" data_weight="6" value="90">
            </P>
            <button type="button" onclick="evaluateGrades();">Evaluate</button>
            <div>
                <span id="result"></span><br>
            </div>
		</form>
		<footer>
			<script>
                var docInputs = document.getElementsByTagName("input");
                var docClass = document.getElementsByClassName("labels");
                var docParent = document.getElementById("result").parentElement;
                console.log(docParent);
                console.log(docInputs);
                console.log(docClass);

                function evaluateGrades(){
                    var inputsElements = document.getElementsByTagName("input");
                    console.log(docInputs);

                    var lenghtInputs = inputsElements.length;
                    var finalGrades = 0.0;
                    var count = 0;

                    for (i = 0; i < lenghtInputs; i++) {
                        element = inputsElements[i];
                        data_weight = element.attributes.data_weight;
                        console.log(element.value);
                        finalGrades += (element.value * data_weight.value);
                        // console.log(finalGrades);
                        count += parseFloat(data_weight.value);
                        // console.log(count);

                        // switch (element.id){
                        //     case "web_tech_1":
                        //         console.log("Web Technology 1 = " + element.value + " and worth " + data_weight.value + " credits");
                        //         break;
                        //     case "problem_solving":
                        //         console.log("Problem Solving = " + element.value + " and worth " + data_weight.value + " credits");
                        //         break;
                        //     case "buss_app":
                        //         console.log("Business Application = " + element.value + " and worth " + data_weight.value + " credits");
                        //         break;
                        //     case "python":
                        //         console.log("Python Programming = " + element.value + " and worth " + data_weight.value + " credits");
                        //         break;
                        //     case "sql":
                        //         console.log("SQL and Database Design = " + element.value + " and worth " + data_weight.value + " credits");
                        //         break;
                        // }
                    }
                    var weightedAverage = finalGrades/count;
                    console.log("Final grade will be " + weightedAverage);

                    var docResult = document.getElementById("result")
                    docResult.style.display = "inline-block";
                    document.getElementById("result").innerHTML = "Your weighted Average is " + weightedAverage;
                }
			</script>
		</footer>
	</body>
</html>